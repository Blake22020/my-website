<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Список машин</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <h1>Список машин</h1>
    <div id="cars"></div>

    <script>
class Car {
    constructor(id, brand, model, year, engine_type, displacement, power, torque, transmission, drivetrain, acceleration, top_speed, fuel_consumption, price) {
        this.id = id;
        this.brand = brand;
        this.model = model;
        this.year = year;
        this.engine_type = engine_type;
        this.displacement = displacement;
        this.power = power;
        this.torque = torque;
        this.transmission = transmission;
        this.drivetrain = drivetrain;
        this.acceleration = acceleration;
        this.top_speed = top_speed;
        this.fuel_consumption = fuel_consumption;
        this.price = price;
    }
}
let cars = [];
cars.push(new Car(1000, 'BMW', 'M5', 2019, 'Бензин', 2, 180, 100, 'Автомат', 'Передний', 100, 200, 10, 10000));

fetch('/BETA/php/getCar.php')
    .then(response => response.json())
    .then(data => {
        let container = document.getElementById('cars');
        
        // Создаём таблицу
        let table = `
            <table>
                <thead>
                    <tr>
                        <th>Бренд</th>
                        <th>Модель</th>
                        <th>Год</th>
                        <th>Тип двигателя</th>
                        <th>Объем</th>
                        <th>Мощность</th>
                        <th>Крутящий момент</th>
                        <th>КПП</th>
                        <th>Привод</th>
                        <th>Разгон</th>
                        <th>Макс. скорость</th>
                        <th>Расход</th>
                        <th>Цена</th>
                    </tr>
                </thead>
                <tbody>
        `;33
        let index = 0;
        // Добавляем автомобили в таблицу
        data.forEach(car => {
            if (index != 0) { 
                cars.push(new Car(
                    car.id, car.brand, car.model, car.year, 
                    car.engine_type, car.displacement, car.power, 
                    car.torque, car.transmission, car.drivetrain, 
                    car.acceleration, car.top_speed, car.fuel_consumption, 
                    car.price
                ));
                
                table += `
                    <tr>
                        <td>${car.brand}</td>
                        <td>${car.model}</td>
                        <td>${car.year}</td>
                        <td>${car.engine_type}</td>
                        <td>${car.displacement} л</td>
                        <td>${car.power} л.с.</td>
                        <td>${car.torque} Нм</td>
                        <td>${car.transmission}</td>
                        <td>${car.drivetrain}</td>
                        <td>${car.acceleration} км/ч</td>
                        <td>${car.top_speed} км/ч</td>
                        <td>${car.fuel_consumption} л/100км</td>
                        <td>${car.price} ₽</td>
                    </tr>
                `;
            }
            index++;
        });
        
        table += '</tbody></table>';
        container.innerHTML = table;

        // Выводим в консоль
        console.log('Загружены автомобили:');
        for (let i = 0; i < cars.length; i++) {
            console.log(cars[i].brand + ' ' + cars[i].model);
        }
    })
    .catch(error => {
        console.error('Ошибка загрузки:', error);
    });

    console.log('Hello world!');
    for (let i = 0; i < cars.length; i++) {
        console.log(cars[i].brand + ' ' + cars[i].model);
    }
</script>
</body>
</html>
